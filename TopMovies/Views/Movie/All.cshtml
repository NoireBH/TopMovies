@model MovieViewModel[]
@inject IMovieService movieService

@{
	var movies = await movieService.GetAllMoviesAsync();
}

<div class="container-fluid mt-2">
	<div class="row">
		@foreach (var movie in movies)
		{

			<div class="col-md-4 text-center mb-2">
				<div class=" all-movies-img-container">
					<a asp-area="" asp-controller="Movie" asp-action="Details" asp-route-id="@movie.Id">
						<img class="" src="@movie.ImageUrl" />
					</a>
					<h2>
						<a asp-area="" asp-controller="Movie" asp-action="Details" asp-route-id="@movie.Id">
							@movie.Name
						</a>						
					</h2>
					<h4>@movie.YearOfRelease</h4>
					<div class="text-center">
						@if (User.IsAdmin())
						{
							<a  asp-controller="Movie" asp-action="Edit" asp-route-id="@movie.Id"
							   class="btn btn-warning">Edit</a>
							<a  asp-controller="Movie" asp-action="Delete" asp-route-id="@movie.Id"
							   class="btn btn-danger"
							   onclick="return confirm('are you sure you want to delete this movie?')">Delete</a>
						}
					</div>
				</div>
				
			</div>


		}
	</div>

</div>



